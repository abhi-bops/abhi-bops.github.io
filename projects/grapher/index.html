<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-03-07 Sun 15:00 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Using grapher for Exploratory Data Analysis</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Abhi" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="style.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Using grapher for Exploratory Data Analysis</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgfe6aeb1">1. What is grapher?</a></li>
<li><a href="#org714ecd7">2. How can I use grapher</a></li>
<li><a href="#orge94997b">3. Let's play!</a>
<ul>
<li><a href="#orga78f7a3">3.1. Bar chart</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-orgfe6aeb1" class="outline-2">
<h2 id="orgfe6aeb1"><span class="section-number-2">1</span> What is grapher?</h2>
<div class="outline-text-2" id="text-1">
<p>
It is a tool that I wrote to do EDA (Exploratory data analysis) on HTML tables. My work involed running queries on a web application which returned results as a HTML table, and then using the data to do the analysis. A raw way of handling data was to craft queries in an investigative manner - i.e I would write a very general query to fetch the data from a database, and then use fitlers and expressions to continue the analysis.
The advantage of grapher is that it aims to reduce some of the efforst by providing common features used during data analysis, filtering, grouping and graphing data. It has helped me to analyse data in an innovative way. 
The aim of the grapher bookmarklet is to give some power to the user to be able to work with raw html table data, if there are no charting tools available in the website.
</p>

<p>
Grapher depends on the vega-lite library, which simplies the work of graphing data. More details on the tools are at  <a href="https://vega.github.io/vega-lite/">https://vega.github.io/vega-lite/</a>
</p>
<blockquote>
<p>
Vega-Lite is a high-level grammar of interactive graphics. It provides a concise, declarative JSON syntax to create an expressive range of visualizations for data analysis and presentation.
</p>
</blockquote>

<p>
The source code of grapher and friends and it's usage is at <a href="https://github.com/abhi-bops/bookmarklets">https://github.com/abhi-bops/bookmarklets</a> .
</p>
</div>
</div>

<div id="outline-container-org714ecd7" class="outline-2">
<h2 id="org714ecd7"><span class="section-number-2">2</span> How can I use grapher</h2>
<div class="outline-text-2" id="text-2">
<p>
Here I will share some examples on how to use grapher for making analysis, it will use data from <a href="https://www.kaggle.com/dizzypanda/gen-1-pokemon">https://www.kaggle.com/dizzypanda/gen-1-pokemon</a> . A database of Pokemons from the first generation (<i>Ah! childhood memories</i> :)).
</p>

<p>
I will show example usage of graphs and interpreting then for doing an exlporatory analysis. The html table page along with the script enabled can be accessed from <a href="./FirstGenPokemon.html">FirstGenPokemon</a> .
</p>
</div>
</div>

<div id="outline-container-orge94997b" class="outline-2">
<h2 id="orge94997b"><span class="section-number-2">3</span> Let's play!</h2>
<div class="outline-text-2" id="text-3">
<p>
Once the page is loaded, you should see control menus on top of the table, showing different knobs of menus and filters. This is the control center for the graph, you can decide what graph you want to be plotted and the settings for the graphs that you want to pass on.
</p>


<div id="org8c804e5" class="figure">
<p><img src="./grapher_menu.png" alt="grapher_menu.png" />
</p>
<p><span class="figure-number">Figure 1: </span>The grapher menu with the graph and data options</p>
</div>
</div>


<div id="outline-container-orga78f7a3" class="outline-3">
<h3 id="orga78f7a3"><span class="section-number-3">3.1</span> Bar chart</h3>
<div class="outline-text-3" id="text-3-1">
<p>
   Bar charts are mostly useful if you want to get some information on the 
categorical columns in the dataset.
</p>

<blockquote>
<p>
Any data that is not numerical is treated as categorical data. Unlike numbers categorical data are not infinite, and lacks order (except Ordered categorical data). They are used as "Dimensions" in the data world to be able to split the datasets, since each categorical data is unique in it's own way.
</p>
</blockquote>

<p>
Let us pick 2 categorical variables for our analysis here, <b>Type1</b> - which gives the Primary type of the pokemon - if it's environment is grass, rock, water &#x2026; and <b>Type2</b> - the secondary type, indicating if it has special abilities to survive in other environments too.
</p>

<p>
<b>Set the graph options:</b>
</p>
<ol class="org-ol">
<li>Graph type = bar</li>
<li>Stacking method = ontop</li>
<li>Average method = count</li>
</ol>


<p>
<b>Set the data options:</b>
</p>
<ol class="org-ol">
<li>Index/X-axis = Type1 #We will analysis them column by column</li>
<li>Values/Y-axis = Type1 #Keep it as same, for our current analysis</li>
<li>Grouping/Hue = Type1 #Keep it as same, for our current analysis</li>
</ol>
<p>
<b>Click on "Graph table"</b>
</p>

<p>
The output should include a bar chart show different counts of the pokemons in each Type1 value. Some inferences we can draw
</p>


<div id="orgd96be5e" class="figure">
<p><img src="./bar_graph1.png" alt="bar_graph1.png" />
</p>
<p><span class="figure-number">Figure 2: </span>Bar graph showing count of different Type1 (primary types) of pokemons</p>
</div>

<ol class="org-ol">
<li>There is a large number of "normal" and "water" pokemons.</li>
<li>There are very few "ice", "ghost", "dragon" pokemons.</li>
</ol>


<hr />

<p>
Let us extend the analysis further to see how much of different combinations of Type1 and Type2 pokemons exist
</p>

<p>
<b>Change the data options:</b>
</p>
<ul class="org-ul">
<li>Grouping/Hue = Type2 #Grouping the data by Type2 will split each bar chart by their Type2 data</li>
</ul>
<p>
<b>Click on "Graph table"</b>
</p>

<p>
The output should include a bar chart show different counts of the pokemons in each Type1 value with the bar split by their Type2 values. Some inferences we can draw
</p>


<div id="orgf12c9d5" class="figure">
<p><img src="./bar_graph2.png" alt="bar_graph2.png" />
</p>
<p><span class="figure-number">Figure 3: </span>Bar graph showing count of different Type1 pokemons split by their Type2 (secondary type)</p>
</div>

<ol class="org-ol">
<li>There are multiple types of water pokemons (psychic, poison, ice, flying, fighting, None - no special type)</li>
<li>Ghost pokemons are all poisonous</li>
</ol>


<hr />

<p>
Now, let's use one of the continous data, Height(m) to see how the heights on average is among different type1 pokemons
</p>


<p>
<b>Change the data options:</b>
</p>
<ul class="org-ul">
<li>Values/Y-axis = Height(m)</li>
<li>Grouping/Hue = Type1</li>
</ul>


<p>
<b>Change the graphing options:</b>
</p>
<ul class="org-ul">
<li>Aggregate method = 'average'</li>
</ul>
<p>
<b>Click on "Graph table"</b>
</p>


<p>
The output should include a bar chart show the average heihg of each Type1 pokemon. Some inferences we can draw
</p>


<div id="org12afccc" class="figure">
<p><img src="./bar_graph3.png" alt="bar_graph3.png" />
</p>
<p><span class="figure-number">Figure 4: </span>Bar graph showing average heights (in m) of different Type1 pokemons</p>
</div>

<ol class="org-ol">
<li>dragon type1 pokemon tend to be on an average taller than the rest.</li>
<li>ground type1 pokemon tend to be on an average shorter than the rest, but closely followed by electric.</li>
</ol>


<hr />


<p>
If we want to know more statisical summaries of the data, with the same settings, we will set the "Graph Type=" as "summary", and it will give a table of commonly used summaries like median, percentiles.
</p>


<div id="org863abf1" class="figure">
<p><img src="./summary.png" alt="summary.png" />
</p>
<p><span class="figure-number">Figure 5: </span>Satistical summary of height values of different Type1 pokemons</p>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Abhi</p>
<p class="date">Created: 2021-03-07 Sun 15:00</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
